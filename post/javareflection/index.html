<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Java Reflection - WYJ&#39;s Notes</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <link rel="canonical" href="https://w-yj.github.io/post/javareflection/">

    
    
    <link rel="stylesheet" type="text/css" href="https://w-yj.github.io/sass/pixyll.min.30e55e9fcc01694c576be315e114e0449103a0df1fb91cec0c2ada477ba30f6b.css">

    
    <link rel='stylesheet' type='text/css' href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' >
    <link rel='stylesheet' type='text/css' href='//fonts.googleapis.com/css?family=Lato:900,300'>
</head>

<body class="site">
    <div class="site-wrap">
        <header class="site-header px2 px-responsive">
    <div class="mt2 wrap">
        <div class="measure">
            <a href="https://w-yj.github.io" class="site-title">WYJ&#39;s Notes</a>
            <nav class="site-nav">
                
<div class="right">
<a href="https://w-yj.github.io/about/">About</a>
<a href="https://w-yj.github.io/tags/">Tags</a>
<a href="https://w-yj.github.io/contact/">Contact</a>
</div>
            </nav>
            <div class="clearfix"></div>
        </div>
    </div>
</header>

        <div class="post p2 p-responsive wrap" role="main">
            <div class="measure">
                
<div class="post-header mb2">
    <h1 class="py2">Java Reflection</h1>
    <span class="post-meta">
        Apr 6, 2017
        
    </span>
    <br>
    
</div>
<article class="post-content">
    <h1 id="java-reflection">Java Reflection</h1>
<blockquote>
<p>Javaè¢«è§†ä¸ºåŠ¨æ€æˆ–å‡†åŠ¨æ€è¯­è¨€çš„ä¸€ä¸ªå…³é”®æ€§è´¨</p>
</blockquote>
<!-- raw HTML omitted -->
<ul>
<li>Introduction</li>
<li>Usage</li>
<li>JavaBeanåŠå†…çœ
<ul>
<li>å†…çœ(Introspector)</li>
<li>å®é™…åº”ç”¨åœºæ™¯ğŸ‘€</li>
</ul>
</li>
</ul>
<!-- raw HTML omitted -->
<h2 id="introduction">Introduction</h2>
<p>Reflectionæœºåˆ¶å…è®¸ç¨‹åºåœ¨è¿è¡Œæ—¶é€è¿‡ Reflection APIs å–å¾—ä»»ä½•ä¸€ä¸ªå·²çŸ¥åç§°çš„ class çš„å†…éƒ¨ä¿¡æ¯ï¼ŒåŒ…æ‹¬ modifiersã€superclassã€interfacesï¼Œä¹ŸåŒ…æ‹¬ fields å’Œ methods çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¹¶å¯äºè¿è¡Œæ—¶æ”¹å˜ fields å†…å®¹æˆ–è°ƒç”¨ methodsã€‚æ¢å¥è¯è¯´ï¼ŒJava ç¨‹åºå¯ä»¥åŠ è½½ä¸€ä¸ªè¿è¡Œæ—¶æ‰å¾—çŸ¥åç§°çš„ classï¼Œè·æ‚‰å…¶å®Œæ•´æ„é€ ä½†ä¸åŒ…æ‹¬methodså®šä¹‰ï¼Œå¹¶ç”Ÿæˆå…¶å¯¹è±¡å®ä½“ã€æˆ–å¯¹å…¶ fields è®¾å€¼ã€æˆ–å”¤èµ·å…¶methodsã€‚è¿™ç§â€œçœ‹é€classâ€çš„èƒ½åŠ›è¢«ç§°ä¸ºå†…çœã€‚Reflectionå’Œintrospectionæ˜¯å¸¸è¢«å¹¶æçš„ä¸¤ä¸ªæœ¯è¯­ã€‚</p>
<ul>
<li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªå¯¹è±¡æ‰€å±çš„ç±»ï¼›</li>
<li>åœ¨è¿è¡Œæ—¶æ„é€ ä»»æ„ä¸€ä¸ªç±»çš„å¯¹è±¡ï¼›</li>
<li>åœ¨è¿è¡Œæ—¶åˆ¤æ–­ä»»æ„ä¸€ä¸ªç±»æ‰€å…·æœ‰çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•ï¼›</li>
<li>åœ¨è¿è¡Œæ—¶è°ƒç”¨ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³•ï¼›</li>
</ul>
<p>åœ¨JDKä¸­ï¼Œä¸»è¦ç”±ä»¥ä¸‹ç±»æ¥å®ç°Javaåå°„æœºåˆ¶ï¼Œè¿™äº›ç±»éƒ½ä½äºjava.lang.refletåŒ…ä¸­:</p>
<ul>
<li>Classç±»ï¼šä»£è¡¨ä¸€ä¸ªç±»</li>
<li>fieldç±»ï¼šä»£è¡¨ç±»çš„æˆå‘˜å˜é‡(æˆå‘˜å˜é‡ä¹Ÿè¢«ç§°ä¸ºç±»çš„å±æ€§)</li>
<li>Methodç±»ï¼šä»£è¡¨ç±»çš„æ–¹æ³•</li>
<li>Constructorç±»ï¼šä»£è¡¨ç±»çš„æ„é€ æ–¹æ³•</li>
<li>Arrayç±»ï¼šæä¾›äº†åŠ¨æ€åˆ›å»ºæ•°ç»„ï¼Œä»¥åŠè®¿é—®æ•°ç»„çš„å…ƒç´ çš„é™æ€æ–¹æ³•</li>
</ul>
<h2 id="usage">Usage</h2>
<p>Javaä¸­æ¯ä¸ªç±»è¢«åŠ è½½ä¹‹åï¼Œç³»ç»Ÿå°±ä¼šä¸ºè¯¥ç±»ç”Ÿæˆä¸€ä¸ªå¯¹åº”çš„Classå¯¹è±¡ï¼Œé€šè¿‡è¯¥Classå¯¹è±¡å°±å¯ä»¥è®¿é—®åˆ°JVMä¸­çš„è¿™ä¸ªç±»ã€‚</p>
<p>Classå¯¹è±¡å¯ä»¥è·å¾—è¯¥ç±»é‡Œçš„æ–¹æ³•(ç”±Methodå¯¹è±¡è¡¨ç¤º)ã€æ„é€ å™¨(ç”±Constructorå¯¹è±¡è¡¨ç¤º)ã€æˆå‘˜å˜é‡(ç”±Field)å¯¹è±¡è¡¨ç¤ºï¼Œè¿™ä¸‰ä¸ªç±»éƒ½ä½äºjava.lang.reflectåŒ…ä¸‹å¹¶å®ç°äº†java.lang.reflect.Memberæ¥å£ã€‚ç¨‹åºå¯ä»¥é€šè¿‡Methodå¯¹è±¡æ¥æ‰§è¡Œå¯¹åº”çš„æ–¹æ³•ï¼Œé€šè¿‡Constructorå¯¹è±¡æ¥è°ƒç”¨å¯¹åº”çš„æ„é€ å™¨åˆ›å»ºå®ä¾‹ï¼Œèƒ½é€šè¿‡Fieldå¯¹è±¡ç›´æ¥è®¿é—®å¹¶ä¿®æ”¹å¯¹è±¡çš„æˆå‘˜å˜é‡å€¼ã€‚</p>
<p>åœ¨Javaç¨‹åºä¸­è·å¾—Classå¯¹è±¡é€šå¸¸æœ‰å¦‚ä¸‹ä¸‰ç§æ–¹å¼ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">//ä½¿ç”¨Classç±»çš„forName(String clazzName)é™æ€æ–¹æ³•
</span><span style="color:#75715e">//è¯¥æ–¹æ³•éœ€è¦ä¼ å…¥å­—ç¬¦ä¸²å‚æ•°ï¼Œè¯¥å­—ç¬¦ä¸²å‚æ•°çš„å€¼æ˜¯æŸä¸ªç±»çš„å…¨é™å®šç±»å(å¿…é¡»åŒ…æ‹¬å®Œæ•´åŒ…å)ã€‚
</span><span style="color:#75715e"></span>Class clazz<span style="color:#f92672">=</span>Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span><span style="color:#960050;background-color:#1e0010">â€œ</span>demo<span style="color:#f92672">.</span><span style="color:#a6e22e">Person</span><span style="color:#960050;background-color:#1e0010">â€</span><span style="color:#f92672">);</span>

<span style="color:#75715e">//è°ƒç”¨æŸä¸ªç±»çš„classå±æ€§æ¥è·å–è¯¥ç±»å¯¹åº”çš„Classå¯¹è±¡
</span><span style="color:#75715e">//Person.classå°†ä¼šè¿”å›Personç±»å¯¹åº”çš„Classå¯¹è±¡
</span><span style="color:#75715e"></span>Class clazz<span style="color:#f92672">=</span>Person<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>

<span style="color:#75715e">//è°ƒç”¨æŸä¸ªå¯¹è±¡çš„getClass()æ–¹æ³•ã€‚
</span><span style="color:#75715e">//è¯¥æ–¹æ³•æ˜¯java.lang.Objectç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥æ‰€æœ‰çš„Javaå¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°†ä¼šè¿”å›è¯¥å¯¹è±¡æ‰€å±ç±»å¯¹åº”çš„Classå¯¹è±¡ã€‚
</span><span style="color:#75715e"></span>Person person<span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Person<span style="color:#f92672">();</span>
Class clazz<span style="color:#f92672">=</span>person<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">();</span>
</code></pre></div><p>é€šè¿‡åå°„æ¥ç”Ÿæˆå®ä¾‹å¯¹è±¡æœ‰å¦‚ä¸‹ä¸¤ç§æ–¹å¼ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">//ä½¿ç”¨Classå¯¹è±¡çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºè¯¥Classå¯¹åº”ç±»çš„å®ä¾‹ã€‚ã€
</span><span style="color:#75715e">//è¿™ç§æ–¹å¼è¦æ±‚è¯¥Classå¯¹è±¡çš„å¯¹åº”ç±»æœ‰é»˜è®¤æ„é€ å™¨ï¼Œè€Œæ‰§è¡ŒnewInstance()æ—¶å®é™…ä¸Šæ˜¯åˆ©ç”¨é»˜è®¤æ„é€ å™¨æ¥åˆ›å»ºè¯¥ç±»çš„å®ä¾‹
</span><span style="color:#75715e"></span>Class clazz<span style="color:#f92672">=</span>Person<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
Object obj<span style="color:#f92672">=</span>clazz<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">();</span>

<span style="color:#75715e">//å…ˆä½¿ç”¨Classå¯¹è±¡è·å–æŒ‡å®šçš„Constructorå¯¹è±¡ï¼Œå†è°ƒç”¨Constructorå¯¹è±¡çš„newInstance()æ–¹æ³•æ¥åˆ›å»ºè¯¥Classå¯¹è±¡å¯¹åº”ç±»çš„å®ä¾‹ã€‚
</span><span style="color:#75715e">//é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥é€‰æ‹©ä½¿ç”¨æŒ‡å®šçš„æ„é€ å™¨æ¥åˆ›å»ºå®ä¾‹
</span><span style="color:#75715e"></span>Class clazz<span style="color:#f92672">=</span>Person<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
Constructor constructor<span style="color:#f92672">=</span>clazz<span style="color:#f92672">.</span><span style="color:#a6e22e">getConstructor</span><span style="color:#f92672">(</span>String<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
Object obj<span style="color:#f92672">=</span>constructor<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">();</span>
</code></pre></div><p>å‚è€ƒç¤ºä¾‹ï¼šhttp://blog.csdn.net/ljphhj/article/details/12858767</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> com.iamwyj<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.lang.reflect.*<span style="color:#f92672">;</span>

<span style="color:#75715e">/*
</span><span style="color:#75715e"> 1.å·¥å‚æ¨¡å¼ï¼šFactoryç±»ä¸­ç”¨åå°„çš„è¯ï¼Œæ·»åŠ äº†ä¸€ä¸ªæ–°çš„ç±»ä¹‹åï¼Œå°±ä¸éœ€è¦å†ä¿®æ”¹å·¥å‚ç±»Factoryäº†
</span><span style="color:#75715e"> 2.æ•°æ®åº“JDBCä¸­é€šè¿‡Class.forName(Driver).æ¥è·å¾—æ•°æ®åº“è¿æ¥é©±åŠ¨
</span><span style="color:#75715e"> 3.åˆ†æç±»æ–‡ä»¶ï¼šæ¯•ç«Ÿèƒ½å¾—åˆ°ç±»ä¸­çš„æ–¹æ³•ç­‰ç­‰
</span><span style="color:#75715e"> 4.è®¿é—®ä¸€äº›ä¸èƒ½è®¿é—®çš„å˜é‡æˆ–å±æ€§ï¼šç ´è§£åˆ«äººä»£ç 
</span><span style="color:#75715e">*/</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>

    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> age<span style="color:#f92672">,</span> String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> age<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getAge</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> age<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setAge</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> age<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> age<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setName</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">ActionInterface</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">walk</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> m<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SuperMan</span> <span style="color:#66d9ef">extends</span> Person <span style="color:#66d9ef">implements</span> ActionInterface <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">boolean</span> BlueBriefs<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">fly</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è¶…äººä¼šé£è€¶ï½ï½&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">isBlueBriefs</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> BlueBriefs<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setBlueBriefs</span><span style="color:#f92672">(</span><span style="color:#66d9ef">boolean</span> blueBriefs<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        BlueBriefs <span style="color:#f92672">=</span> blueBriefs<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">walk</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> m<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// TODO Auto-generated method stub
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è¶…äººä¼šèµ°è€¶ï½ï½èµ°äº†&#34;</span> <span style="color:#f92672">+</span> m <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;ç±³å°±èµ°ä¸åŠ¨äº†ï¼&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>


<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ReflectionTest</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> ClassNotFoundException<span style="color:#f92672">,</span> InstantiationException<span style="color:#f92672">,</span> IllegalAccessException<span style="color:#f92672">,</span> IllegalArgumentException<span style="color:#f92672">,</span> InvocationTargetException<span style="color:#f92672">,</span> SecurityException<span style="color:#f92672">,</span> NoSuchFieldException<span style="color:#f92672">,</span> NoSuchMethodException <span style="color:#f92672">{</span>

        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;1.é€šè¿‡Javaåå°„æœºåˆ¶å¾—åˆ°ç±»çš„åŒ…åå’Œç±»å&#34;</span><span style="color:#f92672">);</span>
        Person person <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Person<span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;åŒ…åä¸ºï¼š&#34;</span> <span style="color:#f92672">+</span> person<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getPackage</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å®Œæ•´ç±»åï¼š&#34;</span> <span style="color:#f92672">+</span> person<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>


        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;2.éªŒè¯æ‰€æœ‰çš„ç±»éƒ½æ˜¯Classç±»çš„å®ä¾‹å¯¹è±¡&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">// å®šä¹‰ä¸¤ä¸ªç±»å‹éƒ½æœªçŸ¥çš„Classï¼Œè®¾ç½®åˆå€¼ä¸ºnullï¼Œçœ‹çœ‹å¦‚ä½•ç»™å®ƒä»¬èµ‹å€¼æˆPersonç±»
</span><span style="color:#75715e"></span>        Class<span style="color:#f92672">&lt;?&gt;</span> class1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        Class<span style="color:#f92672">&lt;?&gt;</span> class2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#75715e">// å†™æ³•1ï¼Œå¯èƒ½æŠ›å‡ºClassNotFoundException[å¤šç”¨è¿™ä¸ªå†™æ³•]
</span><span style="color:#75715e"></span>        class1 <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.iamwyj.Person&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;åŒ…åä¸ºï¼š&#34;</span> <span style="color:#f92672">+</span> class1<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getPackage</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å®Œæ•´ç±»åï¼š&#34;</span> <span style="color:#f92672">+</span> class1<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
        <span style="color:#75715e">// å†™æ³•2
</span><span style="color:#75715e"></span>        class2 <span style="color:#f92672">=</span> Person<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">;</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;åŒ…åä¸ºï¼š&#34;</span> <span style="color:#f92672">+</span> class2<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getPackage</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å®Œæ•´ç±»åï¼š&#34;</span> <span style="color:#f92672">+</span> class2<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>


        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;3.é€šè¿‡Javaåå°„æœºåˆ¶ï¼Œç”¨Classåˆ›å»ºç±»å¯¹è±¡[è¿™ä¹Ÿå°±æ˜¯åå°„å­˜åœ¨çš„æ„ä¹‰æ‰€åœ¨]ï¼Œæ— å‚æ„é€ &#34;</span><span style="color:#f92672">);</span>
        Class<span style="color:#f92672">&lt;?&gt;</span> class3 <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        class3 <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.iamwyj.Person&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">//ç”±äºè¿™é‡Œä¸èƒ½å¸¦å‚æ•°ï¼Œæ‰€ä»¥ä½ è¦å®ä¾‹åŒ–çš„è¿™ä¸ªç±»Personï¼Œä¸€å®šè¦æœ‰æ— å‚æ„é€ å‡½æ•°
</span><span style="color:#75715e"></span>        Person person3 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Person<span style="color:#f92672">)</span> class3<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">();</span>
        person3<span style="color:#f92672">.</span><span style="color:#a6e22e">setAge</span><span style="color:#f92672">(</span>20<span style="color:#f92672">);</span>
        person3<span style="color:#f92672">.</span><span style="color:#a6e22e">setName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;wyj&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>person3<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; : &#34;</span> <span style="color:#f92672">+</span> person3<span style="color:#f92672">.</span><span style="color:#a6e22e">getAge</span><span style="color:#f92672">());</span>


        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;4.é€šè¿‡Javaåå°„æœºåˆ¶å¾—åˆ°ä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°å¹¶å®ç°æ„é€ å¸¦å‚å®ä¾‹å¯¹è±¡&#34;</span><span style="color:#f92672">);</span>
        Class<span style="color:#f92672">&lt;?&gt;</span> class4 <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        Person person4 <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        Person person5 <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>

        class4 <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.iamwyj.Person&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">//å¾—åˆ°ä¸€ç³»åˆ—æ„é€ å‡½æ•°é›†åˆ
</span><span style="color:#75715e"></span>        Constructor<span style="color:#f92672">&lt;?&gt;[]</span> constructors <span style="color:#f92672">=</span> class4<span style="color:#f92672">.</span><span style="color:#a6e22e">getConstructors</span><span style="color:#f92672">();</span>

        person4 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Person<span style="color:#f92672">)</span> constructors<span style="color:#f92672">[</span>0<span style="color:#f92672">].</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">();</span>
        person4<span style="color:#f92672">.</span><span style="color:#a6e22e">setAge</span><span style="color:#f92672">(</span>30<span style="color:#f92672">);</span>
        person4<span style="color:#f92672">.</span><span style="color:#a6e22e">setName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;xm&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>person4<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; : &#34;</span> <span style="color:#f92672">+</span> person4<span style="color:#f92672">.</span><span style="color:#a6e22e">getAge</span><span style="color:#f92672">());</span>

        person5 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Person<span style="color:#f92672">)</span> constructors<span style="color:#f92672">[</span>1<span style="color:#f92672">].</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(</span>32<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;lk&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>person5<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; : &#34;</span> <span style="color:#f92672">+</span> person5<span style="color:#f92672">.</span><span style="color:#a6e22e">getAge</span><span style="color:#f92672">());</span>


        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;5.é€šè¿‡Javaåå°„æœºåˆ¶æ“ä½œæˆå‘˜å˜é‡setå’Œget&#34;</span><span style="color:#f92672">);</span>
        Class<span style="color:#f92672">&lt;?&gt;</span> class6 <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        class6 <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.iamwyj.Person&#34;</span><span style="color:#f92672">);</span>
        Object obj <span style="color:#f92672">=</span> class6<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">();</span>

        Field personNameField <span style="color:#f92672">=</span> class6<span style="color:#f92672">.</span><span style="color:#a6e22e">getDeclaredField</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">);</span>
        personNameField<span style="color:#f92672">.</span><span style="color:#a6e22e">setAccessible</span><span style="color:#f92672">(</span><span style="color:#66d9ef">true</span><span style="color:#f92672">);</span>
        personNameField<span style="color:#f92672">.</span><span style="color:#a6e22e">set</span><span style="color:#f92672">(</span>obj<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;èƒ–è™&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ä¿®æ”¹å±æ€§ä¹‹åå¾—åˆ°å±æ€§å˜é‡çš„å€¼ï¼š&#34;</span> <span style="color:#f92672">+</span> personNameField<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>obj<span style="color:#f92672">));</span>


        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;6.é€šè¿‡Javaåå°„æœºåˆ¶å¾—åˆ°ç±»çš„ä¸€äº›å±æ€§ï¼šç»§æ‰¿çš„æ¥å£ï¼Œçˆ¶ç±»ï¼Œå‡½æ•°ä¿¡æ¯ï¼Œæˆå‘˜ä¿¡æ¯ï¼Œç±»å‹ç­‰&#34;</span><span style="color:#f92672">);</span>
        Class<span style="color:#f92672">&lt;?&gt;</span> class7 <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        class7 <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.iamwyj.SuperMan&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">//å–å¾—çˆ¶ç±»åç§°
</span><span style="color:#75715e"></span>        Class<span style="color:#f92672">&lt;?&gt;</span> superClass <span style="color:#f92672">=</span> class7<span style="color:#f92672">.</span><span style="color:#a6e22e">getSuperclass</span><span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SuperManç±»çš„çˆ¶ç±»å: &#34;</span> <span style="color:#f92672">+</span> superClass<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>

        Field<span style="color:#f92672">[]</span> fields <span style="color:#f92672">=</span> class7<span style="color:#f92672">.</span><span style="color:#a6e22e">getDeclaredFields</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> fields<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ç±»ä¸­çš„æˆå‘˜: &#34;</span> <span style="color:#f92672">+</span> fields<span style="color:#f92672">[</span>i<span style="color:#f92672">]);</span>
        <span style="color:#f92672">}</span>

        <span style="color:#75715e">//å–å¾—ç±»æ–¹æ³•
</span><span style="color:#75715e"></span>        Method<span style="color:#f92672">[]</span> methods <span style="color:#f92672">=</span> class7<span style="color:#f92672">.</span><span style="color:#a6e22e">getDeclaredMethods</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> methods<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å–å¾—SuperManç±»çš„æ–¹æ³•ï¼š&#34;</span><span style="color:#f92672">);</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å‡½æ•°åï¼š&#34;</span> <span style="color:#f92672">+</span> methods<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å‡½æ•°è¿”å›ç±»å‹ï¼š&#34;</span> <span style="color:#f92672">+</span> methods<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">getReturnType</span><span style="color:#f92672">());</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å‡½æ•°è®¿é—®ä¿®é¥°ç¬¦ï¼š&#34;</span> <span style="color:#f92672">+</span> Modifier<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">(</span>methods<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">getModifiers</span><span style="color:#f92672">()));</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å‡½æ•°ä»£ç å†™æ³•ï¼š &#34;</span> <span style="color:#f92672">+</span> methods<span style="color:#f92672">[</span>i<span style="color:#f92672">]);</span>
        <span style="color:#f92672">}</span>

        <span style="color:#75715e">//å–å¾—ç±»å®ç°çš„æ¥å£,å› ä¸ºæ¥å£ç±»ä¹Ÿå±äºClass,æ‰€ä»¥å¾—åˆ°æ¥å£ä¸­çš„æ–¹æ³•ä¹Ÿæ˜¯ä¸€æ ·çš„æ–¹æ³•å¾—åˆ°å“ˆ
</span><span style="color:#75715e"></span>        Class<span style="color:#f92672">&lt;?&gt;</span> interfaces<span style="color:#f92672">[]</span> <span style="color:#f92672">=</span> class7<span style="color:#f92672">.</span><span style="color:#a6e22e">getInterfaces</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> i <span style="color:#f92672">&lt;</span> interfaces<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">;</span> i<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;å®ç°çš„æ¥å£ç±»å: &#34;</span> <span style="color:#f92672">+</span> interfaces<span style="color:#f92672">[</span>i<span style="color:#f92672">].</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
        <span style="color:#f92672">}</span>


        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;7.é€šè¿‡Javaåå°„æœºåˆ¶è°ƒç”¨ç±»ä¸­æ–¹æ³•&#34;</span><span style="color:#f92672">);</span>
        Class<span style="color:#f92672">&lt;?&gt;</span> class8 <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        class8 <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.iamwyj.SuperMan&#34;</span><span style="color:#f92672">);</span>

        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è°ƒç”¨æ— å‚æ–¹æ³•fly()ï¼š&#34;</span><span style="color:#f92672">);</span>
        Method method <span style="color:#f92672">=</span> class8<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;fly&#34;</span><span style="color:#f92672">);</span>
        method<span style="color:#f92672">.</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>class8<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">());</span>

        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;è°ƒç”¨æœ‰å‚æ–¹æ³•walk(int m)ï¼š&#34;</span><span style="color:#f92672">);</span>
        method <span style="color:#f92672">=</span> class8<span style="color:#f92672">.</span><span style="color:#a6e22e">getMethod</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;walk&#34;</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span><span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
        method<span style="color:#f92672">.</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>class8<span style="color:#f92672">.</span><span style="color:#a6e22e">newInstance</span><span style="color:#f92672">(),</span> 100<span style="color:#f92672">);</span>


        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;8.é€šè¿‡Javaåå°„æœºåˆ¶è·å¾—ç±»åŠ è½½å™¨&#34;</span><span style="color:#f92672">);</span>
        Class<span style="color:#f92672">&lt;?&gt;</span> class9 <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        class9 <span style="color:#f92672">=</span> Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.iamwyj.SuperMan&#34;</span><span style="color:#f92672">);</span>
        String nameString <span style="color:#f92672">=</span> class9<span style="color:#f92672">.</span><span style="color:#a6e22e">getClassLoader</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">().</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ç±»åŠ è½½å™¨ç±»å: &#34;</span> <span style="color:#f92672">+</span> nameString<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#75715e">/*output:
</span><span style="color:#75715e">1.é€šè¿‡Javaåå°„æœºåˆ¶å¾—åˆ°ç±»çš„åŒ…åå’Œç±»å
</span><span style="color:#75715e">åŒ…åä¸ºï¼šcom.iamwyj
</span><span style="color:#75715e">å®Œæ•´ç±»åï¼šcom.iamwyj.Person
</span><span style="color:#75715e">2.éªŒè¯æ‰€æœ‰çš„ç±»éƒ½æ˜¯Classç±»çš„å®ä¾‹å¯¹è±¡
</span><span style="color:#75715e">åŒ…åä¸ºï¼šjava.lang
</span><span style="color:#75715e">å®Œæ•´ç±»åï¼šjava.lang.Class
</span><span style="color:#75715e">åŒ…åä¸ºï¼šjava.lang
</span><span style="color:#75715e">å®Œæ•´ç±»åï¼šjava.lang.Class
</span><span style="color:#75715e">3.é€šè¿‡Javaåå°„æœºåˆ¶ï¼Œç”¨Classåˆ›å»ºç±»å¯¹è±¡[è¿™ä¹Ÿå°±æ˜¯åå°„å­˜åœ¨çš„æ„ä¹‰æ‰€åœ¨]ï¼Œæ— å‚æ„é€ 
</span><span style="color:#75715e">wyj : 20
</span><span style="color:#75715e">4.é€šè¿‡Javaåå°„æœºåˆ¶å¾—åˆ°ä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°å¹¶å®ç°æ„é€ å¸¦å‚å®ä¾‹å¯¹è±¡
</span><span style="color:#75715e">xm : 30
</span><span style="color:#75715e">lk : 32
</span><span style="color:#75715e">5.é€šè¿‡Javaåå°„æœºåˆ¶æ“ä½œæˆå‘˜å˜é‡setå’Œget
</span><span style="color:#75715e">ä¿®æ”¹å±æ€§ä¹‹åå¾—åˆ°å±æ€§å˜é‡çš„å€¼ï¼šèƒ–è™
</span><span style="color:#75715e">6.é€šè¿‡Javaåå°„æœºåˆ¶å¾—åˆ°ç±»çš„ä¸€äº›å±æ€§ï¼šç»§æ‰¿çš„æ¥å£ï¼Œçˆ¶ç±»ï¼Œå‡½æ•°ä¿¡æ¯ï¼Œæˆå‘˜ä¿¡æ¯ï¼Œç±»å‹ç­‰
</span><span style="color:#75715e">SuperManç±»çš„çˆ¶ç±»å: com.iamwyj.Person
</span><span style="color:#75715e">ç±»ä¸­çš„æˆå‘˜: private boolean com.iamwyj.SuperMan.BlueBriefs
</span><span style="color:#75715e">å–å¾—SuperManç±»çš„æ–¹æ³•ï¼š
</span><span style="color:#75715e">å‡½æ•°åï¼šfly
</span><span style="color:#75715e">å‡½æ•°è¿”å›ç±»å‹ï¼švoid
</span><span style="color:#75715e">å‡½æ•°è®¿é—®ä¿®é¥°ç¬¦ï¼špublic
</span><span style="color:#75715e">å‡½æ•°ä»£ç å†™æ³•ï¼š public void com.iamwyj.SuperMan.fly()
</span><span style="color:#75715e">å–å¾—SuperManç±»çš„æ–¹æ³•ï¼š
</span><span style="color:#75715e">å‡½æ•°åï¼šwalk
</span><span style="color:#75715e">å‡½æ•°è¿”å›ç±»å‹ï¼švoid
</span><span style="color:#75715e">å‡½æ•°è®¿é—®ä¿®é¥°ç¬¦ï¼špublic
</span><span style="color:#75715e">å‡½æ•°ä»£ç å†™æ³•ï¼š public void com.iamwyj.SuperMan.walk(int)
</span><span style="color:#75715e">å–å¾—SuperManç±»çš„æ–¹æ³•ï¼š
</span><span style="color:#75715e">å‡½æ•°åï¼šisBlueBriefs
</span><span style="color:#75715e">å‡½æ•°è¿”å›ç±»å‹ï¼šboolean
</span><span style="color:#75715e">å‡½æ•°è®¿é—®ä¿®é¥°ç¬¦ï¼špublic
</span><span style="color:#75715e">å‡½æ•°ä»£ç å†™æ³•ï¼š public boolean com.iamwyj.SuperMan.isBlueBriefs()
</span><span style="color:#75715e">å–å¾—SuperManç±»çš„æ–¹æ³•ï¼š
</span><span style="color:#75715e">å‡½æ•°åï¼šsetBlueBriefs
</span><span style="color:#75715e">å‡½æ•°è¿”å›ç±»å‹ï¼švoid
</span><span style="color:#75715e">å‡½æ•°è®¿é—®ä¿®é¥°ç¬¦ï¼špublic
</span><span style="color:#75715e">å‡½æ•°ä»£ç å†™æ³•ï¼š public void com.iamwyj.SuperMan.setBlueBriefs(boolean)
</span><span style="color:#75715e">å®ç°çš„æ¥å£ç±»å: com.iamwyj.ActionInterface
</span><span style="color:#75715e">7.é€šè¿‡Javaåå°„æœºåˆ¶è°ƒç”¨ç±»ä¸­æ–¹æ³•
</span><span style="color:#75715e">è°ƒç”¨æ— å‚æ–¹æ³•fly()ï¼š
</span><span style="color:#75715e">è¶…äººä¼šé£è€¶ï½ï½
</span><span style="color:#75715e">è°ƒç”¨æœ‰å‚æ–¹æ³•walk(int m)ï¼š
</span><span style="color:#75715e">è¶…äººä¼šèµ°è€¶ï½ï½èµ°äº†100ç±³å°±èµ°ä¸åŠ¨äº†ï¼
</span><span style="color:#75715e">8.é€šè¿‡Javaåå°„æœºåˆ¶è·å¾—ç±»åŠ è½½å™¨
</span><span style="color:#75715e">ç±»åŠ è½½å™¨ç±»å: sun.misc.Launcher$AppClassLoader*/</span>
</code></pre></div><h2 id="javabeanåŠå†…çœ">JavaBeanåŠå†…çœ</h2>
<blockquote>
<p>éµå¾ªç‰¹å®šå†™æ³•çš„Javaç±»ã€‚Introspection means the ability of the program to examine itselt.</p>
</blockquote>
<p>å…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p>
<ol>
<li>æœ‰æ— å‚æ„é€ å‡½æ•°  ==&gt;  ä½¿ç”¨å†…çœå¯ä»¥å¸®ä½ åˆ›å»ºå¯¹è±¡.</li>
<li>æ‰€æœ‰ä½œä¸ºå±æ€§ä¿å­˜çš„æˆå‘˜å˜é‡ç§æœ‰åŒ– ==&gt; javaä¸èƒ½è„±ç¦»åŸºæœ¬ç‰¹æ€§==&gt; å°è£…æ€§</li>
<li>å±æ€§æœ‰å¯¹åº”get/setæ–¹æ³• ==&gt; 1.æ»¡è¶³äº†å°è£…æ€§ï¼›2.ç¬¦åˆå‘½åè§„åˆ™çš„è¯ï¼Œå†…çœå°±èƒ½åˆ†è¾©å‡ºå“ªäº›æ˜¯æ“ä½œå±æ€§çš„æ–¹æ³•</li>
</ol>
<p>JavaBeanåœ¨J2EEå¼€å‘ä¸­ï¼Œé€šå¸¸ç”¨äºå°è£…æ•°æ®ï¼Œå¯¹äºéµå¾ªä»¥ä¸Šå†™æ³•çš„JavaBeanç»„ä»¶ï¼Œå…¶å®ƒç¨‹åºå¯ä»¥é€šè¿‡åå°„æŠ€æœ¯å®ä¾‹åŒ–JavaBeanå¯¹è±¡ï¼Œå¹¶ä¸”é€šè¿‡åå°„é‚£äº›éµå®ˆå‘½åè§„èŒƒçš„æ–¹æ³•ï¼Œä»è€Œè·çŸ¥JavaBeançš„å±æ€§ï¼Œè¿›è€Œè°ƒç”¨å…¶å±æ€§ä¿å­˜æ•°æ®ã€‚</p>
<p>ç¬¦åˆä¸Šé¢çš„æ ¼å¼,å¯¹æˆ‘ä»¬å¼€å‘æ¥è¯´æœ‰ä»€ä¹ˆå¥½å¤„?
å¯ä»¥åº”ç”¨JAVAçš„å†…çœæœºåˆ¶ï¼Œå†…çœå°±æ˜¯æ“ä½œæˆ‘ä»¬javabeanæä¾›çš„ä¸€å¥—api</p>
<h3 id="å†…çœintrospector">å†…çœ(Introspector)</h3>
<p>è®¿é—®JavaBeanå±æ€§çš„ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>ç›´æ¥è°ƒç”¨beançš„setXXXæˆ–getXXXæ–¹æ³•ã€‚</li>
<li>é€šè¿‡å†…çœæŠ€æœ¯è®¿é—®(java.beansåŒ…æä¾›äº†å†…çœçš„API)</li>
</ul>
<p>åŸç†ï¼š</p>
<ol>
<li>å†…çœæŠ€æœ¯åŸºäºåå°„æŠ€æœ¯</li>
<li>é€šè¿‡Introspectorç±»è·å¾—Beanå¯¹è±¡çš„ BeanInfoï¼Œç„¶åé€šè¿‡ BeanInfo æ¥è·å–å±æ€§çš„æè¿°å™¨ï¼ˆ PropertyDescriptorï¼‰ï¼Œé€šè¿‡è¿™ä¸ªå±æ€§æè¿°å™¨å°±å¯ä»¥è·å–æŸä¸ªå±æ€§å¯¹åº”çš„ getter/setter æ–¹æ³•ï¼Œç„¶åé€šè¿‡åå°„æœºåˆ¶æ¥è°ƒç”¨è¿™äº›æ–¹æ³•</li>
</ol>
<p>ä¾‹å¦‚: åˆ©ç”¨å†…çœåŸç†è®¾ç½®uçš„åå­—ä¸ºtomï¼Œå¯†ç ä¸º1234</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> bean<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> String password<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">User</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> String password<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">super</span><span style="color:#f92672">();</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">password</span> <span style="color:#f92672">=</span> password<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">User</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setName</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getPassword</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> password<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setPassword</span><span style="color:#f92672">(</span>String password<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">password</span> <span style="color:#f92672">=</span> password<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;name:&#34;</span> <span style="color:#f92672">+</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;password:&#34;</span> <span style="color:#f92672">+</span> password<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> bean<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.beans.BeanInfo<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.beans.Introspector<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.beans.PropertyDescriptor<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.lang.reflect.Method<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">//å†…çœå°±æ˜¯æ“ä½œæˆ‘ä»¬javabeanæä¾›çš„ä¸€å¥—api
</span><span style="color:#75715e"></span>        User u <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">();</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// 1.è·å¾—javaBeançš„æè¿°ä¿¡æ¯
</span><span style="color:#75715e"></span>            BeanInfo info <span style="color:#f92672">=</span> Introspector<span style="color:#f92672">.</span><span style="color:#a6e22e">getBeanInfo</span><span style="color:#f92672">(</span>User<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
            <span style="color:#75715e">// 2.è·å¾—Userä¸­çš„å±æ€§ä¿¡æ¯
</span><span style="color:#75715e"></span>            PropertyDescriptor<span style="color:#f92672">[]</span> pds <span style="color:#f92672">=</span> info<span style="color:#f92672">.</span><span style="color:#a6e22e">getPropertyDescriptors</span><span style="color:#f92672">();</span>
            <span style="color:#75715e">// 3.éå†å±æ€§ä¿¡æ¯
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>PropertyDescriptor pd <span style="color:#f92672">:</span> pds<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                Method writer <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span><span style="color:#a6e22e">getWriteMethod</span><span style="color:#f92672">();</span>
                <span style="color:#75715e">//åˆ¤æ–­å½“å‰éå†çš„å±æ€§æ˜¯å¦æ˜¯nameå±æ€§
</span><span style="color:#75715e"></span>                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>pd<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">().</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;name&#34;</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
                    <span style="color:#75715e">//å¦‚æœæ˜¯nameå±æ€§,è·å¾—æ“ä½œnameå±æ€§çš„å†™å…¥æ–¹æ³•(setName)
</span><span style="color:#75715e"></span>                    writer<span style="color:#f92672">.</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>u<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;tom&#34;</span><span style="color:#f92672">);</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">else</span> <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>pd<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">().</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
                    <span style="color:#75715e">//å¦‚æœæ˜¯passwordå±æ€§,è·å¾—æ“ä½œpasswordå±æ€§çš„å†™å…¥æ–¹æ³•(setPassword)
</span><span style="color:#75715e"></span>                    writer<span style="color:#f92672">.</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>u<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;1234&#34;</span><span style="color:#f92672">);</span>
                <span style="color:#f92672">}</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// TODO Auto-generated catch block
</span><span style="color:#75715e"></span>            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>u<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#75715e">// output: name:tom password:1234
</span></code></pre></div><h3 id="å®é™…åº”ç”¨åœºæ™¯">å®é™…åº”ç”¨åœºæ™¯ğŸ‘€</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> bean<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.util.Date<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">User</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">private</span> String name<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> String password<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> Date birthday<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> Date <span style="color:#a6e22e">getBirthday</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> birthday<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setBirthday</span><span style="color:#f92672">(</span>Date birthday<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">birthday</span> <span style="color:#f92672">=</span> birthday<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">User</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getAge</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> age<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setAge</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> age<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> age<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setName</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getPassword</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> password<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">setPassword</span><span style="color:#f92672">(</span>String password<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">password</span> <span style="color:#f92672">=</span> password<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>


    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;User [name=&#34;</span> <span style="color:#f92672">+</span> name <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, password=&#34;</span> <span style="color:#f92672">+</span> password <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, age=&#34;</span> <span style="color:#f92672">+</span> age
                <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;, birthday=&#34;</span> <span style="color:#f92672">+</span> birthday <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;]&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>åº”ç”¨ä¸€ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> bean.User<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.beans.Introspector<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.beans.PropertyDescriptor<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.Date<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">copyProperties</span><span style="color:#f92672">(</span>User u1<span style="color:#f92672">,</span> User u2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// 1.è·å¾—u1ä¸­çš„å±æ€§æè¿°
</span><span style="color:#75715e"></span>            <span style="color:#75715e">// 2.éå†è¿™äº›å±æ€§æè¿°
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>PropertyDescriptor pd <span style="color:#f92672">:</span> Introspector<span style="color:#f92672">.</span><span style="color:#a6e22e">getBeanInfo</span><span style="color:#f92672">(</span>u1<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">()).</span><span style="color:#a6e22e">getPropertyDescriptors</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
                String propName <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">();</span>
                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(!</span>propName<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;class&#34;</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
                    <span style="color:#75715e">// 3.æŸ¥çœ‹u2æ˜¯å¦å…·æœ‰è¿™äº›å±æ€§
</span><span style="color:#75715e"></span>                    PropertyDescriptor pd2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> PropertyDescriptor<span style="color:#f92672">(</span>propName<span style="color:#f92672">,</span> u2<span style="color:#f92672">.</span><span style="color:#a6e22e">getClass</span><span style="color:#f92672">());</span>
                    <span style="color:#75715e">// æœ‰è¯¥å±æ€§ï¼šè·å¾—è¯¥å±æ€§å€¼ï¼ŒæŸ¥çœ‹æ˜¯å¦æ˜¯null
</span><span style="color:#75715e"></span>                    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>pd2 <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                        Object obj <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span><span style="color:#a6e22e">getReadMethod</span><span style="color:#f92672">().</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>u1<span style="color:#f92672">);</span>
                        <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>obj <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                            <span style="color:#75715e">//ä¸æ˜¯null æ‹·è´åˆ°u2
</span><span style="color:#75715e"></span>                            pd2<span style="color:#f92672">.</span><span style="color:#a6e22e">getWriteMethod</span><span style="color:#f92672">().</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>u2<span style="color:#f92672">,</span> obj<span style="color:#f92672">);</span>
                        <span style="color:#f92672">}</span>
                    <span style="color:#f92672">}</span>
                <span style="color:#f92672">}</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        User u1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">();</span>
        u1<span style="color:#f92672">.</span><span style="color:#a6e22e">setName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;tom&#34;</span><span style="color:#f92672">);</span>
        u1<span style="color:#f92672">.</span><span style="color:#a6e22e">setPassword</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;1234&#34;</span><span style="color:#f92672">);</span>
        u1<span style="color:#f92672">.</span><span style="color:#a6e22e">setAge</span><span style="color:#f92672">(</span>18<span style="color:#f92672">);</span>
        u1<span style="color:#f92672">.</span><span style="color:#a6e22e">setBirthday</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Date<span style="color:#f92672">());</span>

        User u2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">();</span>
        copyProperties<span style="color:#f92672">(</span>u1<span style="color:#f92672">,</span> u2<span style="color:#f92672">);</span><span style="color:#75715e">// struts1
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>u2<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#75715e">//output: User [name=tom, password=1234, age=18, birthday=Thu Jun 28 15:42:40 CST 2018]
</span></code></pre></div><p>åº”ç”¨äºŒï¼š
BeanUtilså·¥å…·ç±»çš„populate(Object bean, Map properties)æ–¹æ³•
å¯ä»¥æŠŠè¡¨å•æäº¤çš„å‚æ•°è‡ªåŠ¨å°è£…åˆ°Beanä¸­ï¼Œå¹¶ä¸”å¯ä»¥è‡ªåŠ¨è¿›è¡Œç±»å‹è½¬æ¢ï¼Œè½¬æ¢èŒƒå›´æ˜¯ 8ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æ³¨å†Œä¸€ä¸ªè½¬æ¢å™¨ï¼Œè®©BeanUtilså¯ä»¥è½¬æ¢å…¶ä»–ç±»å‹</p>
<p>è‡ªå®šä¹‰è½¬æ¢å™¨ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> tool<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> org.apache.commons.beanutils.Converter<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> java.text.ParseException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.text.SimpleDateFormat<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyConverter</span> <span style="color:#66d9ef">implements</span> Converter <span style="color:#f92672">{</span>
    <span style="color:#75715e">//1990-01-01 ==&gt; date
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> Object <span style="color:#a6e22e">convert</span><span style="color:#f92672">(</span>Class arg0<span style="color:#f92672">,</span> Object arg1<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        String birthdayStr <span style="color:#f92672">=</span> arg1<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">();</span>
        SimpleDateFormat format <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SimpleDateFormat<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;yyyy-MM-dd&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> format<span style="color:#f92672">.</span><span style="color:#a6e22e">parse</span><span style="color:#f92672">(</span>birthdayStr<span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ParseException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div><p>è¡¨å•æäº¤æ•°æ®ï¼š</p>
<pre><code class="language-jsp" data-lang="jsp">&lt;body&gt;
&lt;form action=&quot;/Review/my&quot; method=&quot;post&quot;&gt;
    ç”¨æˆ·å:&lt;input type=&quot;text&quot; name=&quot;name&quot;/&gt;&lt;br&gt;
    å¯†ç :&lt;input type=&quot;password&quot; name=&quot;password&quot;/&gt;&lt;br&gt;
    å¹´é¾„:&lt;input type=&quot;text&quot; name=&quot;age&quot;/&gt;&lt;br&gt;
    ç”Ÿæ—¥:&lt;input type=&quot;text&quot; name=&quot;birthday&quot;/&gt;&lt;br&gt;
    &lt;input type=&quot;submit&quot;/&gt;&lt;br&gt;
&lt;/form&gt;
&lt;/body&gt;
</code></pre><p>ä¸šåŠ¡å¤„ç†ï¼š</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">package</span> servlet<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> bean.User<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.apache.commons.beanutils.BeanUtils<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> org.apache.commons.beanutils.ConvertUtils<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> tool.MyConverter<span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> javax.servlet.ServletException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServlet<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletRequest<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> javax.servlet.http.HttpServletResponse<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.beans.BeanInfo<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.beans.Introspector<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.beans.PropertyDescriptor<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.lang.reflect.InvocationTargetException<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.Date<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.Map<span style="color:#f92672">;</span>


<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyServlet</span> <span style="color:#66d9ef">extends</span> HttpServlet <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doPost</span><span style="color:#f92672">(</span>HttpServletRequest request<span style="color:#f92672">,</span> HttpServletResponse response<span style="color:#f92672">)</span>
            <span style="color:#66d9ef">throws</span> ServletException<span style="color:#f92672">,</span> IOException <span style="color:#f92672">{</span>

        User u <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> User<span style="color:#f92672">();</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">//æ³¨å†Œä¸€ä¸ªè½¬æ¢å™¨,å‘Šè¯‰BeanUtilså¦‚ä½•è¿›è¡Œè½¬æ¢
</span><span style="color:#75715e"></span>            ConvertUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">register</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> MyConverter<span style="color:#f92672">(),</span> Date<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
            BeanUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">populate</span><span style="color:#f92672">(</span>u<span style="color:#f92672">,</span> request<span style="color:#f92672">.</span><span style="color:#a6e22e">getParameterMap</span><span style="color:#f92672">());</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IllegalAccessException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// TODO Auto-generated catch block
</span><span style="color:#75715e"></span>            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InvocationTargetException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// TODO Auto-generated catch block
</span><span style="color:#75715e"></span>            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>u<span style="color:#f92672">);</span>

    <span style="color:#f92672">}</span>

    <span style="color:#75715e">// populateåº•å±‚æ–¹æ³•ä½¿ç”¨å†…çœå°è£…å‚æ•°
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">populate</span><span style="color:#f92672">(</span>Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> String<span style="color:#f92672">[]&gt;</span> map<span style="color:#f92672">,</span> User u<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            Map<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> String<span style="color:#f92672">[]&gt;</span> params <span style="color:#f92672">=</span> map<span style="color:#f92672">;</span>
            BeanInfo info <span style="color:#f92672">=</span> Introspector<span style="color:#f92672">.</span><span style="color:#a6e22e">getBeanInfo</span><span style="color:#f92672">(</span>User<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">);</span>
            PropertyDescriptor<span style="color:#f92672">[]</span> pds <span style="color:#f92672">=</span> info<span style="color:#f92672">.</span><span style="color:#a6e22e">getPropertyDescriptors</span><span style="color:#f92672">();</span>
            <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span>PropertyDescriptor pd <span style="color:#f92672">:</span> pds<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#75715e">//System.out.println(pd.getName());
</span><span style="color:#75715e"></span>                String<span style="color:#f92672">[]</span> param <span style="color:#f92672">=</span> params<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>pd<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">());</span>
                <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>param <span style="color:#f92672">!=</span> <span style="color:#66d9ef">null</span> <span style="color:#f92672">&amp;&amp;</span> param<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span> <span style="color:#f92672">&gt;</span> 0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                    pd<span style="color:#f92672">.</span><span style="color:#a6e22e">getWriteMethod</span><span style="color:#f92672">().</span><span style="color:#a6e22e">invoke</span><span style="color:#f92672">(</span>u<span style="color:#f92672">,</span> param<span style="color:#f92672">[</span>0<span style="color:#f92672">]);</span>
                <span style="color:#f92672">}</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// TODO Auto-generated catch block
</span><span style="color:#75715e"></span>            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
</code></pre></div>
</article>


<p class="post-meta">
    Tags:&nbsp;
    
    
    <a href="https://w-yj.github.io/tags/Java">Java</a>
    
</p>



            </div>
        </div>
    </div>
    <footer class="center">
    <div class="p2 wrap">
        <div class="measure mt1 center">
            <small>
                Copyright &#169; 2017<br>
                Powered by <a href="http://gohugo.io/" target="_blank">Hugo</a> &amp; <a
                    href="https://github.com/azmelanar/hugo-theme-pixyll" target="_blank">Pixyll</a>
            </small>
        </div>
    </div>
</footer>

</body>
</html>